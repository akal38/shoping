<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>PINo     shop & win 🛍️</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #ffe4e1, #f0f8ff);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    .container {
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0px 8px 20px rgba(0,0,0,0.15);
      max-width: 600px;
      text-align: center;
      border: 3px solid #1e76e9;
      position: relative;
    }

    .store-image {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 4px solid #11e6db;
      object-fit: cover;
      margin-bottom: 15px;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
    }

    .store-name {
      font-size: 1.5em;
      color: #1e76e9;
      font-weight: bold;
      margin-bottom: 10px;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 10px;
      color: #05d3ee;
    }

    p {
      font-size: 1.1em;
      line-height: 1.6;
      margin-bottom: 25px;
      color: #555;
    }

    .btn {
      padding: 15px 25px;
      margin: 10px;
      font-size: 1em;
      color: white;
      background-color: #1eb0e9;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: 0.3s;
    }

    .btn:hover {
      background-color: #07edf5;
    }

    footer {
      margin-top: 20px;
      font-size: 0.9em;
      color: #66a8d4;
    }

    .icon {
      font-size: 3em;
      margin-bottom: 10px;
      color: #03bbe9d5;
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- أيقونة الإدارة -->
    <span style="position:absolute; top:15px; left:15px; font-size:1.8em; cursor:pointer;" onclick="goToAdmin()">⚙️</span>

    <!-- صورة المتجر -->
    <img id="storeProfilePic" src="photo_2025-08-05_22-10-51.jpg" alt="شعار المتجر" class="store-image">

    <!-- اسم المتجر -->
    <div class="store-name">PINo - أفضل مكان للتسوق</div>

    <h1>🎉 مرحبًا بك في PINo</h1>
     <h1>🎁  Shop & Win 🎁</h1>
    <p>
      تسوّق من مجموعة متنوعة من المنتجات من مختلف البائعين.
      مع كل عملية شراء، تربح نقاطًا حسب سعر السلعة (نقطة لكل 1000 دج).
      وفي نهاية كل شهر، الشخص الذي يجمع أكبر عدد من النقاط يفوز بجائزة رائعة 🎁!
    </p>

    <button class="btn" onclick="goToShop()">ادخل المتجر 🛒</button>

    <footer>
      &copy; created by akalabdelhakamine38@gmail.com
    </footer>
  </div>

  <script>
  function goToShop() {
    // تخزين حدث الدخول في Firestore
    saveVisitLog("shop");
    window.location.href = "shop.html";
  }

  function goToAdmin() {
    const password = prompt("🚨 أدخل كلمة المرور للوصول إلى لوحة الإدارة:");
    if (password === "algeria") {
      saveVisitLog("admin");
      window.location.href = "admin.html";
    } else if (password !== null) {
      alert("❌ كلمة المرور غير صحيحة!");
    }
  }
</script>

  <!-- سكربت تحميل صورة البروفايل -->
  <script>
    window.addEventListener('load', () => {
      try {
        const savedPic = localStorage.getItem('storeProfilePic');
        const imgEl = document.getElementById('storeProfilePic');
        if (imgEl) {
          if (savedPic && savedPic.startsWith('data:')) {
            imgEl.src = savedPic;
          }
        }
      } catch (err) {
        console.warn('خطأ في قراءة صورة البروفايل من localStorage:', err);
      }
    });
  </script>

  <!-- ✅ إضافة Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "ضع_هنا_apiKey_من_Firebase",
      authDomain: "ضع_هنا_authDomain",
      projectId: "ضع_هنا_projectId",
      storageBucket: "ضع_هنا_storageBucket",
      messagingSenderId: "ضع_هنا_messagingSenderId",
      appId: "ضع_هنا_appId"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // دالة حفظ أي زيارة أو عملية في Firestore
    window.saveVisitLog = async function (type) {
      try {
        await addDoc(collection(db, "visits"), {
          page: type,
          timestamp: serverTimestamp()
        });
        console.log("✅ تم حفظ الزيارة في Firestore:", type);
      } catch (e) {
        console.error("❌ خطأ في الحفظ:", e);
      }
    }
  </script>

</body>
</html>
